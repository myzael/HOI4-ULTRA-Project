scripted_gui = {
	
	army_logistics_window = {
		window_name = "army_logistics_window"
		context_type = player_context
		parent_window_token = logistics_tab
		visible = { 
			always = yes
		}
		ai_enabled = {
			always = no
		}
		effects = {
			open_army_logistics_button_click = {
				set_variable = { show_army_logistics_flag = 1 }
			}
		}
	}
	
	army_logistics_details_window = {
		window_name = "army_logistics_details_window"
		context_type = player_context
		# parent_window_token = logistics_tab
		visible = {
			check_variable = { show_army_logistics_flag = 1 }
		}
		ai_enabled = {
			always = no
		}
		effects = {
			btn_close_click = {
				set_variable = { show_army_logistics_flag = 0 }
			}
		}
	}
	
	@CP_COST = -15
	@CP_TRIGGER = 14
	@MAX_LEVEL = 5
	@MIN_LEVEL = 0

	upgrade_army_department_logistics_window = {
		window_name = "upgrade_army_department_logistics_window"
		context_type = player_context
		parent_window_name = army_logistics_details_window
		visible = {
			check_variable = { show_army_logistics_flag = 1 }
		}
		ai_enabled = {
			always = no
		}
		effects = {
			increase_light_logistics_motorisation_button_click = {
				custom_effect_tooltip = [increase_light_logistics_tt]
				hidden_effect = {
					add_to_variable = { light_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
			decrease_light_logistics_motorisation_button_click = {
				custom_effect_tooltip = [decrease_light_logistics_tt]
				hidden_effect = {
					subtract_from_variable = { light_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
			increase_heavy_logistics_motorisation_button_click = {
				custom_effect_tooltip = [increase_heavy_logistics_tt]
				hidden_effect = {
					add_to_variable = { heavy_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
			decrease_heavy_logistics_motorisation_button_click = {
				custom_effect_tooltip = [decrease_heavy_logistics_tt]
				hidden_effect = {
					subtract_from_variable = { heavy_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
			increase_mot_logistics_motorisation_button_click = {
				custom_effect_tooltip = [increase_mot_logistics_tt]
				hidden_effect = {
					add_to_variable = { mot_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
			decrease_mot_logistics_motorisation_button_click = {
				custom_effect_tooltip = [decrease_mot_logistics_tt]
				hidden_effect = {
					subtract_from_variable = { mot_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
			increase_sup_logistics_motorisation_button_click = {
				custom_effect_tooltip = [increase_sup_logistics_tt]
				hidden_effect = {
					add_to_variable = { sup_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
			decrease_sup_logistics_motorisation_button_click = {
				custom_effect_tooltip = [decrease_sup_logistics_tt]
				hidden_effect = {
					subtract_from_variable = { sup_logistics_motorisation_level = 1 }
					logistical_calculations = yes
					on_daily_labour_calculations = yes
					add_command_power = @CP_COST
				}
			}
		}
		triggers = {
			increase_light_logistics_motorisation_button_click_enabled = {
				check_variable = { light_logistics_motorisation_level < @MAX_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
			decrease_light_logistics_motorisation_button_click_enabled = {
				check_variable = { light_logistics_motorisation_level > @MIN_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
			increase_heavy_logistics_motorisation_button_click_enabled = {
				check_variable = { heavy_logistics_motorisation_level < @MAX_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
			decrease_heavy_logistics_motorisation_button_click_enabled = {
				check_variable = { heavy_logistics_motorisation_level > @MIN_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
			increase_mot_logistics_motorisation_button_click_enabled = {
				check_variable = { mot_logistics_motorisation_level < @MAX_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
			decrease_mot_logistics_motorisation_button_click_enabled = {
				check_variable = { mot_logistics_motorisation_level > @MIN_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
			increase_sup_logistics_motorisation_button_click_enabled = {
				check_variable = { sup_logistics_motorisation_level < @MAX_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
			decrease_sup_logistics_motorisation_button_click_enabled = {
				check_variable = { sup_logistics_motorisation_level > @MIN_LEVEL }
				check_variable = { command_power > @CP_TRIGGER }
			}
		}
	}
}